<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=preload as=font href=/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin><link rel=stylesheet href=/main.68a2c186e6950de96507c6d2df3bd13a5e800afcf0f1a7dd9c832045428c3e0bc8de1a115381005622d6129e466f6ac4457dd23f4f3a474b63acfdefa863f00b.css integrity="sha512-aKLBhuaVDellB8bS3zvROl6ACvzw8afdnIMgRUKMPgvI3hoRU4EAViLWEp5Gb2rERX3SP086R0tjrP3vqGPwCw==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>Logging with Frappe - Home</title><meta name=description content="BizKit's documentation site."><link rel=canonical href=/docs/others/logging-with-frappe/><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="/bizkit.jpg"><meta name=twitter:title content="Logging with Frappe"><meta name=twitter:description content="Frappe provides a built-in logging system based on Python&rsquo;s logging module. Logging is a critical aspect of any application, as it helps developers monitor and troubleshoot issues. This is especially important for Frappe environments running in production where it is not possible to see the bench process logs directly, rendering print statements impractical.
Logging Levels Python&rsquo;s logging module defines several logging levels, which are used to categorize log messages based on their severity."><meta name=twitter:site content="@"><meta name=twitter:creator content="@"><meta property="og:title" content="Logging with Frappe"><meta property="og:description" content="Frappe provides a built-in logging system based on Python&rsquo;s logging module. Logging is a critical aspect of any application, as it helps developers monitor and troubleshoot issues. This is especially important for Frappe environments running in production where it is not possible to see the bench process logs directly, rendering print statements impractical.
Logging Levels Python&rsquo;s logging module defines several logging levels, which are used to categorize log messages based on their severity."><meta property="og:type" content="article"><meta property="og:url" content="/docs/others/logging-with-frappe/"><meta property="og:image" content="/bizkit.jpg"><meta property="article:published_time" content="2023-10-03T19:38:28+08:00"><meta property="article:modified_time" content="2023-10-03T19:38:28+08:00"><meta property="og:site_name" content="Home"><meta property="article:publisher" content="https://www.facebook.com/BizKitTechnologies"><meta property="article:author" content="https://www.facebook.com/BizKitTechnologies"><meta property="og:locale" content="en_US"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"\/docs\/others\/logging-with-frappe\/"},"headline":"Logging with Frappe","image":[],"datePublished":"2023-10-03T19:38:28CET","dateModified":"2023-10-03T19:38:28CET","author":{"@type":"Organization","name":"Home"},"publisher":{"@type":"Organization","name":"Home","logo":{"@type":"ImageObject","url":"\/bizkit.png"}},"description":""}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"\/"},{"@type":"ListItem","position":2,"name":"Docsotherslogging With Frappe","item":"\/docsotherslogging-with-frappe\/"}]}</script><meta name=theme-color content="#fff"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest></head><body class="docs single"><div class="header-bar fixed-top"></div><header class="navbar fixed-top navbar-expand-md navbar-light"><div class=container><input class="menu-btn order-0" type=checkbox id=menu-btn>
<label class="menu-icon d-md-none" for=menu-btn><span class=navicon></span></label><a class="navbar-brand order-1 order-md-0 me-auto" href=/>Home</a>
<button id=mode class="btn btn-link order-2 order-md-4" type=button aria-label="Toggle mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button><ul class="navbar-nav social-nav order-3 order-md-5"><li class=nav-item><a class=nav-link href=https://github.com/BizKit-Tech/BizKit-Tech.github.io><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg><span class="ms-2 visually-hidden">GitHub</span></a></li></ul><div class="collapse navbar-collapse order-4 order-md-1"><ul class="navbar-nav main-nav me-auto order-5 order-md-2"><li class="nav-item active"><a class=nav-link href=/docs/start-here/introduction/>Docs</a></li></ul><div class="break order-6 d-md-none"></div><form class="navbar-form flex-grow-1 order-7 order-md-3"><input id=userinput class="form-control is-search" type=search placeholder="Search docs..." aria-label="Search docs..." autocomplete=off><div id=suggestions class="shadow bg-white rounded"></div></form></div></div></header><div class="wrap container" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar"><nav class=docs-links aria-label="Main navigation"><ul class="list-unstyled collapsible-sidebar"><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#start-here aria-expanded=true>
Start Here</button><div class=collapse id=start-here><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="link-dark rounded" href=/docs/start-here/introduction/>Introduction</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#training aria-expanded=false>
Training</button><div class=collapse id=training><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="link-dark rounded" href=/docs/training/bench-commands/>Bench Commands</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#setup aria-expanded=false>
Setup</button><div class=collapse id=setup><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="link-dark rounded" href=/docs/setup/set-up-instance/>Set Up an Instance</a></li><li><a class="link-dark rounded" href=/docs/setup/add-custom-domain/>Add Custom Domain</a></li><li><a class="link-dark rounded" href=/docs/setup/set-up-dns-multitenancy/>Set Up DNS Multitenancy</a></li><li><a class="link-dark rounded" href=/docs/setup/set-up-https/>Set Up HTTPS</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#projects aria-expanded=false>
Projects</button><div class=collapse id=projects><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="link-dark rounded" href=/docs/projects/deals/>Deals</a></li><li><a class="link-dark rounded" href=/docs/projects/discounts/>Discounts</a></li><li><a class="link-dark rounded" href=/docs/projects/reports-configurations/>Reports Configurations</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#standards aria-expanded=false>
Standards</button><div class=collapse id=standards><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="link-dark rounded" href=/docs/standards/code-review-guidelines/>Code Review Guidelines</a></li><li><a class="link-dark rounded" href=/docs/standards/coding-standards/>Coding Standards</a></li><li><a class="link-dark rounded" href=/docs/standards/commit-standards/>Commit Standards</a></li><li><a class="link-dark rounded" href=/docs/standards/tdd/>Test-Driven Development Guidelines</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#others aria-expanded=false>
Others</button><div class="collapse show" id=others><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="link-dark rounded" href=/docs/others/investigating-performance-issues/>Investigating Performance Issues</a></li><li><a class="link-dark rounded active" href=/docs/others/logging-with-frappe/>Logging with Frappe</a></li><li><a class="link-dark rounded" href=/docs/others/performance-tuning-methods/>Performance Tuning Methods</a></li><li><a class="link-dark rounded" href=/docs/others/streamlining-server-deployment-with-github-actions/>Streamlining Server Deployment with Github Actions</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#help aria-expanded=false>
Help</button><div class=collapse id=help><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="link-dark rounded" href=/docs/help/commands/>Commands</a></li><li><a class="link-dark rounded" href=/docs/help/how-to-update/>How to Update</a></li><li><a class="link-dark rounded" href=/docs/help/troubleshooting/>Troubleshooting</a></li><li><a class="link-dark rounded" href=/docs/help/faq/>FAQ</a></li></ul></div></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#logging-levels>Logging Levels</a></li><li><a href=#logging-in-frappe>Logging in Frappe</a><ul><li><a href=#logging-a-message>Logging a Message</a></li></ul></li><li><a href=#viewing-logs>Viewing Logs</a></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9"><nav aria-label=breadcrumb><ol class=breadcrumb><li class=breadcrumb-item><a href=/>Home</a></li><li class=breadcrumb-item><a href=/docs/>Docs</a></li><li class=breadcrumb-item><a href=/docs/others/>Others</a></li><li class="breadcrumb-item active" aria-current=page>Logging with Frappe</li></ol></nav><h1>Logging with Frappe</h1><p class=lead>Author/s: Gab Barbudo</p><p>Frappe provides a built-in logging system based on Python&rsquo;s <a href=https://docs.python.org/3/howto/logging.html><code>logging</code> module</a>. Logging is a critical aspect of any application, as it helps developers monitor and troubleshoot issues. This is especially important for Frappe environments running in production where it is not possible to see the <code>bench</code> process logs directly, rendering <code>print</code> statements impractical.</p><h2 id=logging-levels>Logging Levels<a href=#logging-levels class=anchor aria-hidden=true>#</a></h2><p>Python&rsquo;s <code>logging</code> module defines several logging levels, which are used to categorize log messages based on their severity. Frappe supports the following logging levels:</p><table><thead><tr><th>Level</th><th>When it’s used</th></tr></thead><tbody><tr><td>DEBUG</td><td>Detailed information, typically of interest only when diagnosing problems.</td></tr><tr><td>INFO</td><td>Confirmation that things are working as expected.</td></tr><tr><td>WARNING</td><td>An indication that something unexpected happened, or indicative of some problem in the near future (e.g. ‘disk space low’). The software is still working as expected.</td></tr><tr><td>ERROR</td><td>Due to a more serious problem, the software has not been able to perform some function.</td></tr><tr><td>CRITICAL</td><td>A serious error, indicating that the program itself may be unable to continue running.</td></tr></tbody></table><h2 id=logging-in-frappe>Logging in Frappe<a href=#logging-in-frappe class=anchor aria-hidden=true>#</a></h2><p>To log messages in Frappe, you can use the <code>frappe.logger()</code> object, which is an instance of Python&rsquo;s <code>logging.Logger</code>. In Version 13, Log Rotation is employed to preserve the most recent 20 log files, each with a maximum size of 100 kB, in addition to the currently active log file.</p><h3 id=logging-a-message>Logging a Message<a href=#logging-a-message class=anchor aria-hidden=true>#</a></h3><pre><code class=language-python>import frappe

# Log an INFO message
frappe.logger().info(&quot;This is an INFO message&quot;)

# Log a DEBUG message
frappe.logger().debug(&quot;This is a DEBUG message&quot;)

# Log a WARNING message
frappe.logger().warning(&quot;This is a WARNING message&quot;)

# Log an ERROR message
frappe.logger().error(&quot;This is an ERROR message&quot;)

# Log a CRITICAL message
frappe.logger().critical(&quot;This is a CRITICAL message&quot;)
</code></pre><p>To log exceptions along with their stack traces, you can use the <code>exception</code> method. This function should only be called from an exception handler.</p><pre><code class=language-python>import frappe

try:
    # Some code that may raise an exception
    result = 10 / 0
except Exception as e:
    frappe.logger().exception(&quot;An exception occurred&quot;)
</code></pre><h4 id=frappelogger>frappe.logger<a href=#frappelogger class=anchor aria-hidden=true>#</a></h4><p><code>frappe.logger(module, with_more_info, allow_site, filter, max_size, file_count)</code></p><p>Returns a <code>logging.Logger</code> object with Site and Bench level logging capabilities. If logger doesn&rsquo;t already exist, it creates and updates <code>frappe.loggers</code>.</p><p>Arguments:</p><ul><li><strong>module</strong>: Defines the name of your logger, and consequently, the name of the log file.</li><li><strong>with_more_info</strong>: When set to <code>True</code>, this option will include the <code>Form Dict</code> as additional information in the log message; particularly useful for logging information related to HTTP requests.</li><li><strong>allow_site</strong>: This parameter allows you to explicitly specify the site name under which the logs will be saved. If left unspecified but set to <code>True</code>, the system will attempt to guess the appropriate site for logging.</li><li><strong>filter</strong>: You can use this parameter to add a filter function to your logger.</li><li><strong>max_size</strong>: Sets the maximum file size for each log file, specified in bytes. When the log file size exceeds this limit, log rotation may occur to manage file size.</li><li><strong>file_count</strong>: Determines the maximum number of log files to be retained through log rotation. Log rotation helps in managing the number of log files generated.</li></ul><h5 id=usage>Usage<a href=#usage class=anchor aria-hidden=true>#</a></h5><pre><code class=language-python>frappe.logger(&quot;schedule&quot;).info(&quot;Starting backup...&quot;)
frappe.logger(&quot;schedule&quot;).error(&quot;Could not send backup file.&quot;)
</code></pre><pre><code>2023-10-03 11:30:10,861 INFO schedule Starting backup...
2023-10-03 11:33:04,644 ERROR schedule Could not send backup file.
</code></pre><p>The above entry would be saved in <code>schedule.log</code>.</p><p>If there is no module specified, the log would be saved in <code>frappe.log</code> by default.</p><h2 id=viewing-logs>Viewing Logs<a href=#viewing-logs class=anchor aria-hidden=true>#</a></h2><p>Out of the box, logs are stored under the <code>./logs</code> folder in your bench. From Frappe Version 13, logs are available at site level too, under <code>./sites/{site}/logs</code>.</p><div class=my-n3></div></main></div></div></div><footer class="footer text-muted"><div class=container><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item>Powered by <a href=https://github.com/>GitHub</a>, <a href=https://gohugo.io/>Hugo</a>, and <a href=https://getdoks.org/>Doks</a></li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class=list-inline></ul></div></div></div></footer><script src=/js/bootstrap.min.2374eee79bc19379a4404a900e042aef91675978a6686beeb97b3b0fa80af5c349abc1304de36298d942cde796148b853299ff49801257ee2b89e89ac427d75b.js integrity="sha512-I3Tu55vBk3mkQEqQDgQq75FnWXimaGvuuXs7D6gK9cNJq8EwTeNimNlCzeeWFIuFMpn/SYASV+4rieiaxCfXWw==" crossorigin=anonymous defer></script><script src=/js/highlight.min.06bc575474b7870a192cb49dce8845ac4471f5e504357081665555fe252a37837b72cca0f58157a9615ff384d3e439e26f58c94416a4b744c27b3056adfad1aa.js integrity="sha512-BrxXVHS3hwoZLLSdzohFrERx9eUENXCBZlVV/iUqN4N7csyg9YFXqWFf84TT5Dnib1jJRBakt0TCezBWrfrRqg==" crossorigin=anonymous defer></script><script src=/main.min.7ab523108435955765bcb88a0ee704f412ba01646b5478e84f3b9feb24f0ce750a14c3f7bd9a62408fe21e41996d361a9eb29f77e85dfe77b7e17f7623bd3a97.js integrity="sha512-erUjEIQ1lVdlvLiKDucE9BK6AWRrVHjoTzuf6yTwznUKFMP3vZpiQI/iHkGZbTYanrKfd+hd/ne34X92I706lw==" crossorigin=anonymous defer></script><script src=/index.min.9fffb0980fb3353edfe965047a57f60bd28db336fea173938b26092e69d28abf137351240a470bf5d566a06b8546719907ebaee66554a255899e207474bb7bde.js integrity="sha512-n/+wmA+zNT7f6WUEelf2C9KNszb+oXOTiyYJLmnSir8Tc1EkCkcL9dVmoGuFRnGZB+uu5mVUolWJniB0dLt73g==" crossorigin=anonymous defer></script></body></html>